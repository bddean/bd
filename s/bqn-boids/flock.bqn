Divideâ†{ğ•¨ğ•Š0:0}âŠÃ· # Division but with xÃ·0 = 0
M â† (âˆš+Â´âˆ˜Ã—Ëœ)Â¨ # Vector magnitude.
# TODO Improve performance. Spatial indexing is the obvious next step.
Flock â‡ {dt ğ•Š  âŸ¨x,v,targetâŸ© :
	dt âŒŠâ†© 50
	âŸ¨x,v,targetâŸ© â‡
	nâ†â‰ x
	offsets â† x -âŒœ x
	distance â† M offsets
	direction â† DivideâŸœM offsets
	Where â† {ğ•© <âˆ˜(/âŠ¸âŠ)Ë˜ nâ€¿nâŠ¸â¥Šğ•¨}
	v+â†©0.005Ã—dtÃ—+Â´âŸ¨
		0.05 Ã— - x - (+Â´Divideâ‰ )Â¨ x Where (distance â‰¤ 100) âˆ§ distance > 30, # Rule 1: Clump.
		0.22 Ã— (+Â´Divideâ‰ )Â¨ v Where distance < 100,                         # Rule 2: Align.
		0.70 Ã— x - (+Â´Divideâ‰ )Â¨ x Where distance < 25,                      # Rule 3: Repel.
	âŸ©
	v Ã—â†© 0.99 # Friction
	v â†© Â¯25 âŒˆ 25 âŒŠ v # Terminal velocity
	x +â†©  dtÃ—v
	x â†© 500 | x # Wrap around the edges of the canvas.
}
